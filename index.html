<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Syskode - Personal Loans Management System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 25px 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            gap: 25px;
            border-bottom: 4px solid #3498db;
        }

        .header-content {
            flex: 1;
            text-align: left;
        }

        .app-branding {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            max-width: 160px;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            transition: all 0.3s ease;
            border: 2px solid rgba(52, 152, 219, 0.3);
            background: #000000;
            padding: 8px;
            flex-shrink: 0;
        }

        .logo:hover {
            transform: scale(1.08);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
        }

        .app-title {
            font-size: 2.2em;
            color: #2c3e50;
            margin: 0;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .app-subtitle {
            font-size: 1.1em;
            color: #7f8c8d;
            font-weight: 400;
            margin: 5px 0 0 0;
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 1.2em;
            color: #7f8c8d;
            font-weight: 300;
        }

        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #2c3e50;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .nav-btn:hover, .nav-btn.active {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
            padding-left: 20px;
            border-left: 4px solid #e74c3c;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h4 {
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .workflow {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .workflow-step:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .step-number {
            background: #3498db;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .compliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .compliance-item {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }

        .roles-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .role-card {
            background: white;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .role-card:hover {
            border-color: #3498db;
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.2);
        }

        .role-title {
            background: #3498db;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .benefits-list {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .benefits-list ul {
            list-style: none;
        }

        .benefits-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .benefits-list li::before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
            font-size: 1.2em;
        }

        .loan-limits {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: #2c3e50;
        }

        .limit-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .limit-item:last-child {
            border-bottom: none;
        }

        .limit-value {
            font-weight: bold;
            font-size: 1.2em;
        }

        .api-integration {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .amortization-calculator {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
        }

        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .input-group input {
            padding: 10px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #3498db;
        }

        .calculate-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .amortization-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .amortization-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .amortization-table th {
            background: #3498db;
            color: white;
            padding: 15px 10px;
            text-align: center;
            font-weight: 600;
        }

        .amortization-table td {
            padding: 12px 10px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }

        .amortization-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .amortization-table tr:hover {
            background: #e3f2fd;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .summary-card h4 {
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .summary-card .value {
            font-size: 1.5em;
            font-weight: bold;
        }

        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #3498db;
        }

        .chart-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        .chart-canvas {
            width: 100%;
            height: 100%;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        /* Tablet Styles */
        @media (max-width: 1024px) and (min-width: 769px) {
            .container {
                padding: 15px;
            }
            
            .header {
                padding: 20px 30px;
                gap: 20px;
            }
            
            .app-title {
                font-size: 2em;
            }
            
            .feature-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .roles-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .calculator-inputs {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
                padding: 20px;
            }
            
            .header-content {
                text-align: center;
            }
            
            .app-title {
                font-size: 1.8em;
            }
            
            .app-subtitle {
                font-size: 1em;
            }
            
            .logo {
                max-width: 120px;
            }
            
            .navigation {
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            
            .nav-btn {
                width: 100%;
                max-width: 300px;
                padding: 15px 20px;
                font-size: 14px;
            }
            
            .section {
                padding: 20px;
                margin-bottom: 15px;
            }
            
            .section h2 {
                font-size: 1.6em;
                margin-bottom: 15px;
            }
            
            .section h3 {
                font-size: 1.2em;
                margin: 20px 0 10px 0;
                padding-left: 15px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .feature-card {
                padding: 20px;
            }
            
            .feature-card h4 {
                font-size: 1.2em;
                margin-bottom: 12px;
            }
            
            .workflow-step {
                flex-direction: column;
                text-align: center;
                padding: 15px;
                margin: 10px 0;
            }
            
            .step-number {
                margin-right: 0;
                margin-bottom: 10px;
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .compliance-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .compliance-item {
                padding: 15px;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .stat-number {
                font-size: 2em;
            }
            
            .roles-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .role-card {
                padding: 20px;
            }
            
            .benefits-list {
                padding: 20px;
            }
            
            .benefits-list li {
                padding: 8px 0;
                padding-left: 25px;
                font-size: 14px;
            }
            
            .loan-limits {
                padding: 20px;
            }
            
            .limit-item {
                flex-direction: column;
                text-align: center;
                gap: 5px;
                padding: 12px 0;
            }
            
            .limit-value {
                font-size: 1.1em;
            }
            
            .api-integration {
                padding: 20px;
            }
            
            .amortization-calculator {
                padding: 20px;
            }
            
            .calculator-inputs {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .input-group input {
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .calculate-btn {
                width: 100%;
                padding: 15px;
                font-size: 16px;
            }
            
            .summary-cards {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .summary-card {
                padding: 15px;
            }
            
            .summary-card h4 {
                font-size: 1em;
            }
            
            .summary-card .value {
                font-size: 1.3em;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .chart-card {
                padding: 20px;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .chart-legend {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            
            .amortization-table {
                overflow-x: auto;
                margin-top: 15px;
            }
            
            .amortization-table table {
                min-width: 600px;
            }
            
            .amortization-table th,
            .amortization-table td {
                padding: 8px 6px;
                font-size: 12px;
            }
        }

        /* Small Mobile Styles */
        @media (max-width: 480px) {
            .container {
                padding: 5px;
            }
            
            .header {
                padding: 15px;
                gap: 15px;
            }
            
            .app-title {
                font-size: 1.5em;
            }
            
            .logo {
                max-width: 100px;
            }
            
            .nav-btn {
                padding: 12px 15px;
                font-size: 13px;
            }
            
            .section {
                padding: 15px;
            }
            
            .section h2 {
                font-size: 1.4em;
            }
            
            .feature-card {
                padding: 15px;
            }
            
            .workflow-step {
                padding: 12px;
            }
            
            .step-number {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stat-card {
                padding: 15px;
            }
            
            .stat-number {
                font-size: 1.8em;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .chart-container {
                height: 200px;
            }
            
            .amortization-table table {
                min-width: 500px;
            }
            
            .amortization-table th,
            .amortization-table td {
                padding: 6px 4px;
                font-size: 11px;
            }
        }

        /* Landscape Mobile Styles */
        @media (max-width: 768px) and (orientation: landscape) {
            .header {
                flex-direction: row;
                text-align: left;
            }
            
            .header-content {
                text-align: left;
            }
            
            .navigation {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-btn {
                width: auto;
                min-width: 120px;
            }
            
            .charts-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .chart-container {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="app-branding">
                <img src="image.png" alt="Loan Helios Logo" class="logo">
                <div class="header-content">
                    <h1 class="app-title">Loan Origination and Management System</h1>
                    <p class="app-subtitle">Personal Loans Management System</p>
                </div>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('overview')">Overview</button>
            <button class="nav-btn" onclick="showSection('loan-process')">Loan Process</button>
            <button class="nav-btn" onclick="showSection('features')">Features</button>
            <button class="nav-btn" onclick="showSection('compliance')">Compliance</button>
            <button class="nav-btn" onclick="showSection('amortization')">Amortization</button>
            <button class="nav-btn" onclick="showSection('reporting')">Reporting</button>
            <button class="nav-btn" onclick="showSection('user-roles')">User Access</button>
            <button class="nav-btn" onclick="showSection('benefits')">Benefits</button>
        </div>

        <!-- Overview Section -->
        <div id="overview" class="section active">
            <h2>Project Overview</h2>
            
            <div class="stats-container">
                <div class="stat-card">
                    <span class="stat-number">BHD 100</span>
                    <span>Minimum Loan</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">BHD 2000</span>
                    <span>Maximum Loan</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">12</span>
                    <span>Max Duration (Months)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">CBB</span>
                    <span>Compliant</span>
                </div>
            </div>

            <h3>Key Objectives</h3>
            <div class="benefits-list">
                <ul>
                    <li>Simplify loan issuance and repayment tracking</li>
                    <li>Ensure compliance with CBB requirements and KYC standards</li>
                    <li>Provide administrators with comprehensive reporting and customer statements</li>
                    <li>Automate sales incentive calculation for field staff</li>
                    <li>Integrate with the Benefit Credit Report API for credit checks</li>
                </ul>
            </div>

            <div class="loan-limits">
                <h4 style="margin-bottom: 20px; font-size: 1.3em;">Loan Parameters</h4>
                <div class="limit-item">
                    <span>Minimum Loan Amount:</span>
                    <span class="limit-value">BHD 100</span>
                </div>
                <div class="limit-item">
                    <span>Maximum Loan Amount:</span>
                    <span class="limit-value">BHD 2000</span>
                </div>
                <div class="limit-item">
                    <span>Maximum Duration:</span>
                    <span class="limit-value">â‰¤ 12 Months</span>
                </div>
                <div class="limit-item">
                    <span>Repayment Frequency:</span>
                    <span class="limit-value">Monthly</span>
                </div>
                <div class="limit-item">
                    <span>Payment Methods:</span>
                    <span class="limit-value">Benefit / Cash</span>
                </div>
            </div>
        </div>

        <!-- Loan Process Section -->
        <div id="loan-process" class="section">
            <h2>Complete Loan Workflow</h2>
            
            <div class="workflow">
                <h3>Loan Issuance Process</h3>
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>Customer Visit:</strong> Customer visits the loan office to apply for personal loan
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>KYC Collection:</strong> Staff collects all required KYC details as per CBB regulations (passport, income proof, address verification)
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>Credit Check:</strong> System integrates with Benefit Credit Report API to retrieve and analyze credit history
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <strong>Application Review:</strong> Loan officer reviews application, documents, and credit report for approval decision
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <strong>Contract Generation:</strong> Upon approval, digital loan contract is automatically generated with terms and conditions
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">6</div>
                    <div>
                        <strong>Contract Signing:</strong> Customer reviews and signs the loan contract
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">7</div>
                    <div>
                        <strong>Loan Disbursement:</strong> Approved loan amount is disbursed through Benefit payment system or cash
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">8</div>
                    <div>
                        <strong>Repayment Tracking:</strong> System automatically generates monthly installment schedule and tracks payments
                    </div>
                </div>
            </div>

            <div class="workflow">
                <h3>Payment Processing Workflow</h3>
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>Payment Due:</strong> System generates automatic reminders for upcoming payment dates
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>Payment Collection:</strong> Customer makes payment via Benefit or cash at office
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>Payment Recording:</strong> Staff records payment in system with automatic calculations
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <strong>Balance Update:</strong> System automatically updates remaining principal, interest, and next due date
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <strong>Late Payment Check:</strong> System calculates penalties for overdue payments automatically
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">6</div>
                    <div>
                        <strong>Early Payment:</strong> System handles early repayments with interest adjustments
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div id="features" class="section">
            <h2>System Features</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Customer Profile Management</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Complete personal details & contact information</li>
                        <li>â€¢ Comprehensive loan history tracking</li>
                        <li>â€¢ Active loans monitoring</li>
                        <li>â€¢ Outstanding payments overview</li>
                        <li>â€¢ Payment history with dates</li>
                        <li>â€¢ Penalty charges calculation</li>
                        <li>â€¢ Downloadable PDF statements</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Loan Repayment Tracking</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Automated installment schedule generation</li>
                        <li>â€¢ Multiple payment method recording</li>
                        <li>â€¢ Real-time remaining principal calculation</li>
                        <li>â€¢ Automatic penalty calculation for late payments</li>
                        <li>â€¢ Next due date tracking</li>
                        <li>â€¢ Early repayment handling with adjustments</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Contract Management</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Digital contract generation for approved loans</li>
                        <li>â€¢ Secure storage of signed contracts</li>
                        <li>â€¢ Quick retrieval for audits or queries</li>
                        <li>â€¢ Version control for contract updates</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Sales Incentive Tracking</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Client assignment to salespersons</li>
                        <li>â€¢ Monthly loan target tracking</li>
                        <li>â€¢ Automatic incentive calculation</li>
                        <li>â€¢ Target vs achievement reporting</li>
                        <li>â€¢ Bonus calculation with detailed reports</li>
                        <li>â€¢ Performance analytics dashboard</li>
                    </ul>
                </div>
            </div>

            <div class="api-integration">
                <h3>Benefit Credit Report API Integration</h3>
                <p><strong>Real-time Credit Check:</strong> Seamless integration with Benefit's credit reporting system to retrieve customer credit history instantly during the application process.</p>
                <ul style="margin-top: 15px; list-style: none;">
                    <li>â€¢ Instant credit score retrieval</li>
                    <li>â€¢ Previous loan history analysis</li>
                    <li>â€¢ Default risk assessment</li>
                    <li>â€¢ Automated approval/rejection recommendations</li>
                </ul>
            </div>
        </div>

        <!-- Compliance Section -->
        <div id="compliance" class="section">
            <h2>KYC & CBB Compliance</h2>
            
            <div class="compliance-grid">
                <div class="compliance-item">
                    <h4>Document Capture</h4>
                    <p>Passport, Visa, and other identification documents with secure digital storage</p>
                </div>
                <div class="compliance-item">
                    <h4>Income Verification</h4>
                    <p>Salary certificates, bank statements, and employment letters for income proof</p>
                </div>
                <div class="compliance-item">
                    <h4>CBB Checklist</h4>
                    <p>Complete verification checklist ensuring full compliance with Central Bank regulations</p>
                </div>
            </div>

            <div class="workflow">
                <h3>KYC Document Collection Process</h3>
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>Identity Verification:</strong> Collect and verify Passport
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>Income Documentation:</strong> Gather salary certificates, bank statements (3 months), employment letters
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>Address Proof:</strong> Collect utility bills, rental agreements, municipality certificates
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <strong>Document Encryption:</strong> Digital document storage provides faster retrieval 
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <strong>CBB Compliance Check:</strong> System validates all requirements against CBB regulations automatically
                    </div>
                </div>
            </div>

            <div class="benefits-list">
                <h3>Security Features</h3>
                <ul>
                    <li>256-bit AES encryption for all sensitive data</li>
                    <li>Role-based access controls with audit trails</li>
                    <li>Secure document storage with version control</li>
                    <li>Data backup and recovery mechanisms</li>
                    <li>Regular security audits and compliance checks</li>
                </ul>
            </div>
        </div>

        <!-- Amortization Section -->
        <div id="amortization" class="section">
            <h2>Loan Amortization Calculator</h2>
            
            <div class="amortization-calculator">
                <h3>Calculate Your Loan Schedule</h3>
                <div class="calculator-inputs">
                    <div class="input-group">
                        <label for="loanAmount">Loan Amount (BHD)</label>
                        <input type="number" id="loanAmount" placeholder="1000" min="100" max="2000">
                    </div>
                    <div class="input-group">
                        <label for="interestRate">Annual Interest Rate (%)</label>
                        <input type="number" id="interestRate" placeholder="12" min="1" max="50" step="0.1">
                    </div>
                    <div class="input-group">
                        <label for="loanTerm">Loan Term (Months)</label>
                        <input type="number" id="loanTerm" placeholder="12" min="1" max="12">
                    </div>
                    <div class="input-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" id="startDate">
                    </div>
                </div>
                <button class="calculate-btn" onclick="calculateAmortization()">Calculate Amortization Schedule</button>
            </div>

            <div id="amortizationResults" style="display: none;">
                <div class="summary-cards">
                    <div class="summary-card">
                        <h4>Monthly Payment</h4>
                        <div class="value" id="monthlyPayment">-</div>
                    </div>
                    <div class="summary-card">
                        <h4>Total Interest</h4>
                        <div class="value" id="totalInterest">-</div>
                    </div>
                    <div class="summary-card">
                        <h4>Total Payment</h4>
                        <div class="value" id="totalPayment">-</div>
                    </div>
                    <div class="summary-card">
                        <h4>Interest Rate</h4>
                        <div class="value" id="displayRate">-</div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-title">Loan Amortization Chart</div>
                        <div class="chart-container">
                            <canvas id="amortizationChart" class="chart-canvas"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #3498db;"></div>
                                <span>Balance</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #e74c3c;"></div>
                                <span>Cumulative Interest</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #27ae60;"></div>
                                <span>Principal Paid</span>
                            </div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-title">Interest vs Principal Payment Over Time</div>
                        <div class="chart-container">
                            <canvas id="paymentChart" class="chart-canvas"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #e74c3c;"></div>
                                <span>Interest</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background-color: #27ae60;"></div>
                                <span>Principal</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="amortization-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Payment #</th>
                                <th>Payment Date</th>
                                <th>Payment Amount</th>
                                <th>Principal</th>
                                <th>Interest</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody id="amortizationTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reporting Section -->
        <div id="reporting" class="section">
            <h2>Reporting & Analytics</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>End-of-Month Reports</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Total loans approved (count & value)</li>
                        <li>â€¢ New customer acquisitions</li>
                        <li>â€¢ Customer-wise loan details</li>
                        <li>â€¢ Amount paid vs amount due analysis</li>
                        <li>â€¢ Default rate calculations</li>
                        <li>â€¢ Revenue generated reports</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Filtered Analytics</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Loan status breakdowns (Active/Closed/Overdue)</li>
                        <li>â€¢ Payment method analysis (Benefit vs Cash)</li>
                        <li>â€¢ Salesperson performance metrics</li>
                        <li>â€¢ Geographic distribution reports</li>
                        <li>â€¢ Time-based trend analysis</li>
                        <li>â€¢ Risk assessment reports</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Export Capabilities</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Excel format for detailed analysis</li>
                        <li>â€¢ PDF format for official reporting</li>
                        <li>â€¢ CSV format for data integration</li>
                        <li>â€¢ Automated report scheduling</li>
                        <li>â€¢ Email delivery of reports</li>
                        <li>â€¢ Custom report templates</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Customer Statements</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Statement of Account (SOA) generation</li>
                        <li>â€¢ Payment history with dates</li>
                        <li>â€¢ Outstanding balance details</li>
                        <li>â€¢ Penalty calculations breakdown</li>
                        <li>â€¢ Next payment due information</li>
                        <li>â€¢ Downloadable PDF format</li>
                    </ul>
                </div>
            </div>

            <div class="workflow">
                <h3>Report Generation Workflow</h3>
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>Report Selection:</strong> User selects report type and parameters (date range, filters)
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>Data Compilation:</strong> System compiles relevant data from multiple modules
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>Calculation Engine:</strong> Automated calculations for totals, percentages, and analytics
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <strong>Format Generation:</strong> Report formatted in requested format (PDF/Excel/CSV)
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <strong>Delivery:</strong> Report delivered via download, email, or scheduled distribution
                    </div>
                </div>
            </div>
        </div>

        <!-- User Roles Section -->
        <div id="user-roles" class="section">
            <h2>User Access & Privileges</h2>
            
            <div class="roles-container">
                <div class="role-card">
                    <div class="role-title">Administrator</div>
                    <h4>Full System Access</h4>
                    <ul>
                        <li>Complete access to all system modules</li>
                        <li>User management and role assignment</li>
                        <li>System configuration and settings</li>
                        <li>Advanced reporting and analytics</li>
                        <li>Audit trail monitoring</li>
                        <li>Data backup and system maintenance</li>
                        <li>CBB compliance monitoring</li>
                        <li>API configuration management</li>
                    </ul>
                </div>

                <div class="role-card">
                    <div class="role-title">Loan Officer</div>
                    <h4>Loan Processing & Management</h4>
                    <ul>
                        <li>Add new customers to system</li>
                        <li>Process loan applications</li>
                        <li>KYC document collection and verification</li>
                        <li>Credit check initiation</li>
                        <li>Loan approval/rejection decisions</li>
                        <li>Contract generation and management</li>
                        <li>Payment recording and tracking</li>
                        <li>Customer statement generation</li>
                    </ul>
                </div>

                <div class="role-card">
                    <div class="role-title">Salesperson</div>
                    <h4>Client Management & Tracking</h4>
                    <ul>
                        <li>View assigned clients only</li>
                        <li>Track personal targets and achievements</li>
                        <li>Client contact information access</li>
                        <li>Payment status of assigned clients</li>
                        <li>Personal performance reports</li>
                        <li>Incentive calculation viewing</li>
                        <li>Client communication history</li>
                        <li>Basic customer support functions</li>
                    </ul>
                </div>
            </div>

            <div class="workflow">
                <h3>Audit & Security Features</h3>
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <strong>User Authentication:</strong> Secure login with multi-factor authentication options
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <strong>Activity Logging:</strong> Complete audit trail of all user activities with timestamps
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <strong>Permission Control:</strong> Granular permissions based on user roles and responsibilities
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <strong>Session Management:</strong> Automatic session timeouts and secure session handling
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <strong>Compliance Monitoring:</strong> Regular reviews of user access and activity patterns
                    </div>
                </div>
            </div>
        </div>

        <!-- Benefits Section -->
        <div id="benefits" class="section">
            <h2>System Benefits & ROI</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Operational Efficiency</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ 75% reduction in loan processing time</li>
                        <li>â€¢ Automated calculations eliminate manual errors</li>
                        <li>â€¢ Streamlined workflow reduces staff workload</li>
                        <li>â€¢ Digital document storage saves physical space</li>
                        <li>â€¢ Instant credit checks accelerate decisions</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Compliance & Risk Management</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ 100% CBB regulation compliance</li>
                        <li>â€¢ Reduced regulatory audit risks</li>
                        <li>â€¢ Enhanced KYC documentation standards</li>
                        <li>â€¢ Automated penalty calculations</li>
                        <li>â€¢ Real-time risk assessment capabilities</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Financial Benefits</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Improved collection rates through tracking</li>
                        <li>â€¢ Reduced operational costs</li>
                        <li>â€¢ Enhanced sales team productivity</li>
                        <li>â€¢ Better cash flow management</li>
                        <li>â€¢ Reduced default rates through better screening</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Strategic Advantages</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>â€¢ Data-driven decision making capabilities</li>
                        <li>â€¢ Scalable solution for business growth</li>
                        <li>â€¢ Improved customer satisfaction</li>
                        <li>â€¢ Enhanced reporting for stakeholders</li>
                        <li>â€¢ Competitive advantage in the market</li>
                    </ul>
                </div>
            </div>

            <div class="benefits-list">
                <h3>Implementation Timeline</h3>
                <ul>
                    <li>Phase 1 (Weeks 1-3): System design and database setup</li>
                    <li>Phase 2 (Weeks 4-6): Core functionality development</li>
                    <li>Phase 3 (Weeks 7-9): API integration and testing</li>
                    <li>Phase 4 (Weeks 10-12): User interface and reporting modules</li>
                    <li>Phase 5 (Weeks 13-14): Testing, training, and deployment</li>
                    <li>Phase 6 (Weeks 15-16): Go-live support and optimization</li>
                </ul>
            </div>

            <div class="workflow">
                <h3>Expected ROI Metrics</h3>
                <div class="stats-container">
                    <div class="stat-card">
                        <span class="stat-number">75%</span>
                        <span>Processing Time Reduction</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">90%</span>
                        <span>Error Reduction</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">60%</span>
                        <span>Compliance Cost Savings</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">40%</span>
                        <span>Staff Productivity Increase</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId, clickedElement) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            const selectedSection = document.getElementById(sectionId);
            if (selectedSection) {
                selectedSection.classList.add('active');
            }
            
            // Add active class to clicked button if provided
            if (clickedElement) {
                clickedElement.classList.add('active');
            } else {
                // Find the button that corresponds to this section
                const correspondingButton = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
                if (correspondingButton) {
                    correspondingButton.classList.add('active');
                }
            }
        }

        // Amortization Calculator Function
        function calculateAmortization() {
            const loanAmount = parseFloat(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanTerm = parseInt(document.getElementById('loanTerm').value);
            const startDate = new Date(document.getElementById('startDate').value);

            // Validation
            if (!loanAmount || !interestRate || !loanTerm || !startDate) {
                alert('Please fill in all fields');
                return;
            }

            if (loanAmount < 100 || loanAmount > 2000) {
                alert('Loan amount must be between BHD 100 and BHD 2000');
                return;
            }

            if (loanTerm < 1 || loanTerm > 12) {
                alert('Loan term must be between 1 and 12 months');
                return;
            }

            // Calculate monthly interest rate
            const monthlyRate = interestRate / 100 / 12;
            
            // Calculate monthly payment using PMT formula
            let monthlyPayment;
            if (monthlyRate === 0) {
                // Handle zero interest case
                monthlyPayment = loanAmount / loanTerm;
            } else {
                monthlyPayment = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, loanTerm)) / 
                                (Math.pow(1 + monthlyRate, loanTerm) - 1);
            }

            // Calculate total payment and interest
            const totalPayment = monthlyPayment * loanTerm;
            const totalInterest = totalPayment - loanAmount;

            // Display summary
            document.getElementById('monthlyPayment').textContent = 'BHD ' + monthlyPayment.toFixed(2);
            document.getElementById('totalInterest').textContent = 'BHD ' + totalInterest.toFixed(2);
            document.getElementById('totalPayment').textContent = 'BHD ' + totalPayment.toFixed(2);
            document.getElementById('displayRate').textContent = interestRate.toFixed(1) + '%';

            // Generate amortization schedule
            generateAmortizationTable(loanAmount, monthlyRate, monthlyPayment, loanTerm, startDate);

            // Show results
            document.getElementById('amortizationResults').style.display = 'block';
        }

        function generateAmortizationTable(principal, monthlyRate, monthlyPayment, term, startDate) {
            const tableBody = document.getElementById('amortizationTableBody');
            tableBody.innerHTML = '';

            let balance = principal;
            let totalInterestPaid = 0;
            let totalPrincipalPaid = 0;

            // Arrays for chart data
            const periods = [];
            const balances = [principal];
            const cumulativeInterest = [0];
            const principalPaid = [0];
            const interestPayments = [];
            const principalPayments = [];

            for (let i = 1; i <= term; i++) {
                // Calculate interest payment for current balance
                const interestPayment = balance * monthlyRate;
                
                // Calculate principal payment
                let principalPayment;
                if (i === term) {
                    // Last payment: pay remaining balance + interest
                    principalPayment = balance;
                    balance = 0;
                } else {
                    principalPayment = monthlyPayment - interestPayment;
                    balance -= principalPayment;
                }
                
                totalInterestPaid += interestPayment;
                totalPrincipalPaid += principalPayment;

                // Store data for charts
                periods.push(i);
                balances.push(Math.max(0, balance));
                cumulativeInterest.push(totalInterestPaid);
                principalPaid.push(totalPrincipalPaid);
                interestPayments.push(interestPayment);
                principalPayments.push(principalPayment);

                // Calculate payment date
                const paymentDate = new Date(startDate);
                paymentDate.setMonth(paymentDate.getMonth() + i - 1);

                // Calculate actual payment amount for this period
                const actualPayment = principalPayment + interestPayment;

                const row = tableBody.insertRow();
                row.innerHTML = `
                    <td>${i}</td>
                    <td>${paymentDate.toLocaleDateString()}</td>
                    <td>BHD ${actualPayment.toFixed(2)}</td>
                    <td>BHD ${principalPayment.toFixed(2)}</td>
                    <td>BHD ${interestPayment.toFixed(2)}</td>
                    <td>BHD ${Math.max(0, balance).toFixed(2)}</td>
                `;

                // Ensure balance doesn't go negative
                if (balance <= 0) {
                    balance = 0;
                }
            }

            // Generate charts
            generateCharts(periods, balances, cumulativeInterest, principalPaid, interestPayments, principalPayments);
        }

        function generateCharts(periods, balances, cumulativeInterest, principalPaid, interestPayments, principalPayments) {
            // Chart 1: Loan Amortization Chart
            const ctx1 = document.getElementById('amortizationChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.amortizationChartInstance) {
                window.amortizationChartInstance.destroy();
            }

            window.amortizationChartInstance = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ['0', ...periods.map(p => p.toString())],
                    datasets: [
                        {
                            label: 'Balance',
                            data: balances,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            pointBackgroundColor: '#3498db',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2
                        },
                        {
                            label: 'Cumulative Interest',
                            data: cumulativeInterest,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            pointBackgroundColor: '#e74c3c',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2
                        },
                        {
                            label: 'Principal Paid',
                            data: principalPaid,
                            borderColor: '#27ae60',
                            backgroundColor: 'rgba(39, 174, 96, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            pointBackgroundColor: '#27ae60',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Period (Payment Number)',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Amount (BHD)',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'BHD ' + value.toFixed(0);
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#3498db',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': BHD ' + context.parsed.y.toFixed(2);
                                }
                            }
                        }
                    }
                }
            });

            // Chart 2: Interest vs Principal Payment Over Time
            const ctx2 = document.getElementById('paymentChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.paymentChartInstance) {
                window.paymentChartInstance.destroy();
            }

            window.paymentChartInstance = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: periods.map(p => p.toString()),
                    datasets: [
                        {
                            label: 'Interest',
                            data: interestPayments,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            pointBackgroundColor: '#e74c3c',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2
                        },
                        {
                            label: 'Principal',
                            data: principalPayments,
                            borderColor: '#27ae60',
                            backgroundColor: 'rgba(39, 174, 96, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            pointBackgroundColor: '#27ae60',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Period (Payment Number)',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Amount (BHD)',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'BHD ' + value.toFixed(0);
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#3498db',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': BHD ' + context.parsed.y.toFixed(2);
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners for navigation buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const sectionId = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    showSection(sectionId, this);
                });
            });

            // Set default start date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;

            // Show overview section by default
            showSection('overview');
        });
    </script>
</body>
</html>